{"version":3,"sources":["../../src/routers/usersRouter.js"],"names":["express","require","UsersRouter","config","userService","getService","Error","router","Router","route","get","req","res","next","users","getUsersAsync","json"],"mappings":";;;;;;;;;AACA;;;;AADA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;;AAC0D;;AAE1D;IACaC,W,WAAAA,W;AACT,yBAAYC,MAAZ,EAAoB;AAAA;;AAChB,aAAKA,MAAL,GAAcA,MAAd;AACA,aAAKC,WAAL,GAAmBD,OAAOE,UAAP,CAAkB,aAAlB,CAAnB;AACA,YAAG,CAAC,KAAKD,WAAT,EAAsB,MAAME,MAAM,uBAAN,CAAN;AACzB;;;;gCAEO;AAAA;;AAAE;AACN,iBAAKC,MAAL,GAAcP,QAAQQ,MAAR,EAAd;AACA,iBAAKD,MAAL,CAAYE,KAAZ,CAAkB,GAAlB,EACKC,GADL,CACS,gBAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC1B,oBAAIC,QAAQ,MAAM,MAAKV,WAAL,CAAiBW,aAAjB,EAAlB;AACAH,oBAAII,IAAJ,CAASF,KAAT;AACH,aAJL;AAKI;AACJ,mBAAO,KAAKP,MAAZ;AACH","file":"usersRouter.js","sourcesContent":["var express = require('express');\r\nimport { UserService } from \"../services/userService.mjs\" //service to inject that into the router\r\n\r\n// /api/users/*\r\nexport class UsersRouter {\r\n    constructor(config) {\r\n        this.config = config;\r\n        this.userService = config.getService(\"UserService\");\r\n        if(!this.userService) throw Error(\"UserService not found\");\r\n    }\r\n\r\n    build() { //a 'magic' method?\r\n        this.router = express.Router();\r\n        this.router.route(\"/\")\r\n            .get(async(req, res, next) => {\r\n                var users = await this.userService.getUsersAsync();\r\n                res.json(users);\r\n            });\r\n            //add posts, delete routes in here if we want.\r\n        return this.router;\r\n    }\r\n\r\n}"]}